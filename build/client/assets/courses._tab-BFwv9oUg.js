import{x as b,z as x,A as g,a as j,p as e,L as N}from"./chunk-PVWAREVJ-gVtuFcjs.js";import{u as v}from"./AuthContext-D4lhteYI.js";import{F as f}from"./FavoriteButton-Cz6N0478.js";import"./index-D2MXpevW.js";import"./api-8LSux9jW.js";const k=b(function(){const{courses:o,courseLookup:t}=x(),{tab:i}=g(),{isLoggedIn:l,user:n}=v(),[c,p]=j.useState(n?.favourite_courses||[]),m=(s,d)=>{p(a=>d?[...a,s]:a.filter(r=>r!==s))},u=s=>s?e.jsxs("div",{className:"container-fluid p-0 d-grid gap-4",children:[e.jsxs("div",{className:"card bg-secondary-subtle rounded-4 border-0 shadow",children:[e.jsx("div",{className:"card-header h4 border-0 rounded-top-4 p-3",children:"Goal"}),e.jsx("div",{className:"card-body shadow rounded-bottom-4 p-3",children:s.goal})]}),e.jsxs("div",{className:"card bg-secondary-subtle rounded-4 border-0 shadow",children:[e.jsx("div",{className:"card-header border-0 h4 rounded-top-4 shadow p-3",children:"Syllabus"}),e.jsx("div",{className:"card-body p-0",children:e.jsx("ol",{className:"list-group list-group-numbered rounded-4",children:s.syllabus.map((d,a)=>e.jsx("li",{className:"list-group-item bg-secondary-subtle py-3 border-0 rounded-top-0 shadow",children:d},a))})})]}),s.requirements&&s.requirements.length>0&&e.jsxs("div",{className:"card bg-secondary-subtle rounded-4 border-0 shadow",children:[e.jsx("div",{className:"card-header border border-0 h4 rounded-top-4 p-3",children:"Requirements"}),e.jsx("div",{className:"card-body p-0",children:e.jsx("ul",{className:"list-group rounded-4 rounded-top-0",children:s.requirements.map((d,a)=>{const r=t[d];return e.jsx(N,{className:"list-group-item list-group-item-action bg-secondary-subtle text-body p-3 border-0 shadow",to:`/courses/${i}/${d}`,children:r?r.name:`Course ${d}`},a)})})})]})]}):null;return e.jsx("div",{className:"accordion d-grid gap-3 tab-stagger pt-3",id:"accordionCourses",children:o.map(s=>{const d=c.includes(s.id),a=s.name.replace(/\s+/g,"-");return e.jsxs("div",{className:"accordion-item border-0 bg-dark-subtle rounded-4 overflow-hidden",children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("button",{className:"accordion-button rounded-4 text-capitalize p-0 bg-transparent pe-3 shadow-none collapsed w-100 border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${a}`,"aria-expanded":"false","aria-controls":a,children:e.jsx("div",{className:"card border-0 bg-transparent w-100",children:e.jsxs("div",{className:"row g-0",children:[e.jsx("div",{className:"col-auto",children:e.jsx("img",{src:s.image_url||"https://placehold.co/175x175",className:"img-fluid rounded-start-4",style:{width:"175px",height:"175px",objectFit:"cover"},alt:s.image_alt||s.name})}),e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card-body h-100 align-content-center py-3 d-flex flex-column justify-content-between",children:[e.jsx("h5",{className:"card-title",children:s.name}),e.jsx("p",{className:"card-text mb-2",children:s.description}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"d-flex gap-1",children:s.tags.map((r,h)=>e.jsx("span",{className:"badge",style:{backgroundColor:r.color},children:r.label},h))})]})})]})})}),l&&e.jsx(f,{itemId:s.id,itemType:"course",isFavorited:d,onToggle:r=>m(s.id,r)})]}),e.jsx("div",{id:a,className:"accordion-collapse collapse","data-bs-parent":"#accordionCourses",children:e.jsx("div",{className:"accordion-body p-5",children:u(s.summary)})})]},s.id)})})});export{k as default};
