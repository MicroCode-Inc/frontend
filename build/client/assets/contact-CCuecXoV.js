import{x as b,a as c,t as p,p as e,L as x}from"./chunk-PVWAREVJ-gVtuFcjs.js";import{a as j}from"./api-8LSux9jW.js";const S=b(function(){const[a,d]=c.useState({email:"",messages:""}),[o,t]=c.useState(null),[r,u]=c.useState(!1),[l,n]=c.useState(!1),g=p(),m=i=>{d(s=>({...s,[i.target.name]:i.target.value})),o&&t(null)},h=async i=>{if(i.preventDefault(),t(null),n(!0),!a.email||!a.messages){t("All fields are required"),n(!1);return}if(!a.email.includes("@")){t("Please enter a valid email address"),n(!1);return}try{const s=await j("/contacts",{method:"POST",body:JSON.stringify(a)}),f=await s.json();if(!s.ok)throw new Error(f.error||"Failed to submit message");u(!0),d({email:"",messages:""}),setTimeout(()=>{g("/")},2e3)}catch(s){t(s.message||"An error occurred. Please try again.")}finally{n(!1)}};return e.jsx("div",{className:"container align-self-center page-transition",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-12 col-md- col-lg-6",children:e.jsxs("form",{className:"card border-0 bg-dark-subtle p-4 rounded-4",onSubmit:h,children:[e.jsxs("div",{className:"card-header border-0 bg-transparent",children:[e.jsx("p",{className:"display-5",children:"Contact Us"}),e.jsx("p",{className:"fs-5 mb-0",children:"We appreciate your feedback!"})]}),e.jsxs("div",{className:"card-body",children:[o&&e.jsx("div",{className:"alert alert-danger animate-shake",role:"alert",children:o}),r&&e.jsx("div",{className:"alert alert-success animate-fade-in",role:"alert",children:"Thank you! Your message has been sent successfully. Redirecting..."}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"email",className:"form-control",id:"floatingInput",name:"email",placeholder:"name@example.com",value:a.email,onChange:m,required:!0,disabled:l||r}),e.jsx("label",{htmlFor:"floatingInput",children:"Email Address"})]}),e.jsxs("div",{className:"form-floating",children:[e.jsx("textarea",{className:"form-control",placeholder:"Enter your message here",id:"floatingTextarea",name:"messages",style:{height:"6rem"},value:a.messages,onChange:m,required:!0,disabled:l||r}),e.jsx("label",{htmlFor:"floatingTextarea",children:"Message"})]})]}),e.jsxs("div",{className:"card-footer border-0 bg-transparent text-end pt-0",children:[e.jsx(x,{className:"btn btn-danger me-2",to:"/",children:"Cancel"}),e.jsx("button",{className:"btn btn-success",type:"submit",disabled:l||r,children:l?"Submitting...":"Submit"})]})]})})})})});export{S as default};
